using JuMP

m = Model()

# ----- Variables ----- #
@variable(m, objvar)
x_Idx = Any[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
@variable(m, x[x_Idx])
b_Idx = Any[11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
@variable(m, b[b_Idx])
setcategory(b[18], :Bin)
setcategory(b[12], :Bin)
setcategory(b[14], :Bin)
setcategory(b[20], :Bin)
setcategory(b[15], :Bin)
setcategory(b[11], :Bin)
setcategory(b[19], :Bin)
setlowerbound(x[31], 0.0)
setcategory(b[16], :Bin)
setcategory(b[17], :Bin)
setcategory(b[13], :Bin)
setlowerbound(x[1], -1.0)
setupperbound(x[1], 1.0)
setlowerbound(x[2], -1.0)
setupperbound(x[2], 1.0)
setlowerbound(x[3], -1.0)
setupperbound(x[3], 1.0)
setlowerbound(x[4], -1.0)
setupperbound(x[4], 1.0)
setlowerbound(x[5], -1.0)
setupperbound(x[5], 1.0)
setlowerbound(x[6], -1.0)
setupperbound(x[6], 1.0)
setlowerbound(x[7], -1.0)
setupperbound(x[7], 1.0)
setlowerbound(x[8], -1.0)
setupperbound(x[8], 1.0)
setlowerbound(x[9], -1.0)
setupperbound(x[9], 1.0)
setlowerbound(x[10], -1.0)
setupperbound(x[10], 1.0)
setlowerbound(x[21], -2.0)
setupperbound(x[21], -2.0)
setlowerbound(x[31], 0.0)
setupperbound(x[31], 0.0)
setlowerbound(x[51], -2.0)
setupperbound(x[51], 2.0)
setlowerbound(x[52], -2.0)
setupperbound(x[52], 2.0)
setlowerbound(x[53], -2.0)
setupperbound(x[53], 2.0)
setlowerbound(x[54], -2.0)
setupperbound(x[54], 2.0)
setlowerbound(x[55], -2.0)
setupperbound(x[55], 2.0)
setlowerbound(x[56], -2.0)
setupperbound(x[56], 2.0)
setlowerbound(x[57], -2.0)
setupperbound(x[57], 2.0)
setlowerbound(x[58], -2.0)
setupperbound(x[58], 2.0)
setlowerbound(x[59], -2.0)
setupperbound(x[59], 2.0)
setlowerbound(x[60], -2.0)
setupperbound(x[60], 2.0)


# ----- Constraints ----- #
@constraint(m, e1, -( ((-1.66666666666667)+x[71])^2+0.2* (x[51])^2+0.2* (x[52])^2+0.2* (x[53])^2+0.2* (x[54])^2+0.2* (x[55])^2+0.2* (x[56])^2+0.2* (x[57])^2+0.2* (x[58])^2+0.2* (x[59])^2+0.2* (x[60])^2)+objvar == 0.0)
@constraint(m, e2, -x[31]+x[41] == 0.2)
@constraint(m, e3, -x[32]+x[42] == 0.2)
@constraint(m, e4, -x[33]+x[43] == 0.2)
@constraint(m, e5, -x[34]+x[44] == 0.2)
@constraint(m, e6, -x[35]+x[45] == 0.2)
@constraint(m, e7, -x[36]+x[46] == 0.2)
@constraint(m, e8, -x[37]+x[47] == 0.2)
@constraint(m, e9, -x[38]+x[48] == 0.2)
@constraint(m, e10, -x[39]+x[49] == 0.2)
@constraint(m, e11, -x[40]+x[50] == 0.2)
@constraint(m, e12, -x[21]+x[51]-0.2*x[61] == 0.0)
@constraint(m, e13, -x[22]+x[52]-0.2*x[62] == 0.0)
@constraint(m, e14, -x[23]+x[53]-0.2*x[63] == 0.0)
@constraint(m, e15, -x[24]+x[54]-0.2*x[64] == 0.0)
@constraint(m, e16, -x[25]+x[55]-0.2*x[65] == 0.0)
@constraint(m, e17, -x[26]+x[56]-0.2*x[66] == 0.0)
@constraint(m, e18, -x[27]+x[57]-0.2*x[67] == 0.0)
@constraint(m, e19, -x[28]+x[58]-0.2*x[68] == 0.0)
@constraint(m, e20, -x[29]+x[59]-0.2*x[69] == 0.0)
@constraint(m, e21, -x[30]+x[60]-0.2*x[70] == 0.0)
@constraint(m, e22, x[1]-2*b[11] == -1.0)
@constraint(m, e23, x[2]-2*b[12] == -1.0)
@constraint(m, e24, x[3]-2*b[13] == -1.0)
@constraint(m, e25, x[4]-2*b[14] == -1.0)
@constraint(m, e26, x[5]-2*b[15] == -1.0)
@constraint(m, e27, x[6]-2*b[16] == -1.0)
@constraint(m, e28, x[7]-2*b[17] == -1.0)
@constraint(m, e29, x[8]-2*b[18] == -1.0)
@constraint(m, e30, x[9]-2*b[19] == -1.0)
@constraint(m, e31, x[10]-2*b[20] == -1.0)
@constraint(m, e32, 2*b[11]-x[51] <= 2.0)
@constraint(m, e33, 2*b[12]-x[52] <= 2.0)
@constraint(m, e34, 2*b[13]-x[53] <= 2.0)
@constraint(m, e35, 2*b[14]-x[54] <= 2.0)
@constraint(m, e36, 2*b[15]-x[55] <= 2.0)
@constraint(m, e37, 2*b[16]-x[56] <= 2.0)
@constraint(m, e38, 2*b[17]-x[57] <= 2.0)
@constraint(m, e39, 2*b[18]-x[58] <= 2.0)
@constraint(m, e40, 2*b[19]-x[59] <= 2.0)
@constraint(m, e41, 2*b[20]-x[60] <= 2.0)
@constraint(m, e42, 2*b[11]-x[51] >= 0.0)
@constraint(m, e43, 2*b[12]-x[52] >= 0.0)
@constraint(m, e44, 2*b[13]-x[53] >= 0.0)
@constraint(m, e45, 2*b[14]-x[54] >= 0.0)
@constraint(m, e46, 2*b[15]-x[55] >= 0.0)
@constraint(m, e47, 2*b[16]-x[56] >= 0.0)
@constraint(m, e48, 2*b[17]-x[57] >= 0.0)
@constraint(m, e49, 2*b[18]-x[58] >= 0.0)
@constraint(m, e50, 2*b[19]-x[59] >= 0.0)
@constraint(m, e51, 2*b[20]-x[60] >= 0.0)
@constraint(m, e52, -x[31]+x[32] == 0.2)
@constraint(m, e53, -x[32]+x[33] == 0.2)
@constraint(m, e54, -x[33]+x[34] == 0.2)
@constraint(m, e55, -x[34]+x[35] == 0.2)
@constraint(m, e56, -x[35]+x[36] == 0.2)
@constraint(m, e57, -x[36]+x[37] == 0.2)
@constraint(m, e58, -x[37]+x[38] == 0.2)
@constraint(m, e59, -x[38]+x[39] == 0.2)
@constraint(m, e60, -x[39]+x[40] == 0.2)
@constraint(m, e61, -x[21]+x[22]-0.2*x[61] == 0.0)
@constraint(m, e62, -x[22]+x[23]-0.2*x[62] == 0.0)
@constraint(m, e63, -x[23]+x[24]-0.2*x[63] == 0.0)
@constraint(m, e64, -x[24]+x[25]-0.2*x[64] == 0.0)
@constraint(m, e65, -x[25]+x[26]-0.2*x[65] == 0.0)
@constraint(m, e66, -x[26]+x[27]-0.2*x[66] == 0.0)
@constraint(m, e67, -x[27]+x[28]-0.2*x[67] == 0.0)
@constraint(m, e68, -x[28]+x[29]-0.2*x[68] == 0.0)
@constraint(m, e69, -x[29]+x[30]-0.2*x[69] == 0.0)
@constraint(m, e70, -x[30]-0.2*x[70]+x[71] == 0.0)
@constraint(m, e71, x[1]+x[61] == 2.0)
@constraint(m, e72, x[2]+x[62] == 2.0)
@constraint(m, e73, x[3]+x[63] == 2.0)
@constraint(m, e74, x[4]+x[64] == 2.0)
@constraint(m, e75, x[5]+x[65] == 2.0)
@constraint(m, e76, x[6]+x[66] == 2.0)
@constraint(m, e77, x[7]+x[67] == 2.0)
@constraint(m, e78, x[8]+x[68] == 2.0)
@constraint(m, e79, x[9]+x[69] == 2.0)
@constraint(m, e80, x[10]+x[70] == 2.0)


# ----- Objective ----- #
@objective(m, Min, objvar)

m = m
