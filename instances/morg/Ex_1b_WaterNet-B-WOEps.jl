using JuMP

m = Model()

# ----- Variables ----- #
b_Idx = Any[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
@variable(m, b[b_Idx])
x_Idx = Any[21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75]
@variable(m, x[x_Idx])
setlowerbound(x[62], 0.0)
setlowerbound(x[38], 0.0)
setlowerbound(x[42], 0.0)
setcategory(b[15], :Bin)
setlowerbound(x[59], 0.0)
setlowerbound(x[74], 0.0)
setlowerbound(x[69], 0.0)
setlowerbound(x[43], 0.0)
setlowerbound(x[71], 0.0)
setlowerbound(x[36], 0.0)
setlowerbound(x[32], 0.0)
setlowerbound(x[25], 0.0)
setlowerbound(x[30], 0.0)
setlowerbound(x[58], 0.0)
setcategory(b[8], :Bin)
setlowerbound(x[29], 0.0)
setlowerbound(x[53], 0.0)
setlowerbound(x[37], 0.0)
setlowerbound(x[63], 0.0)
setlowerbound(x[24], 0.0)
setlowerbound(x[41], 0.0)
setcategory(b[5], :Bin)
setcategory(b[16], :Bin)
setlowerbound(x[52], 0.0)
setcategory(b[13], :Bin)
setlowerbound(x[72], 0.0)
setlowerbound(x[67], 0.0)
setcategory(b[12], :Bin)
setcategory(b[2], :Bin)
setlowerbound(x[26], 0.0)
setcategory(b[14], :Bin)
setlowerbound(x[45], 0.0)
setcategory(b[20], :Bin)
setlowerbound(x[66], 0.0)
setlowerbound(x[75], 0.0)
setcategory(b[11], :Bin)
setcategory(b[19], :Bin)
setcategory(b[7], :Bin)
setcategory(b[9], :Bin)
setlowerbound(x[40], 0.0)
setcategory(b[3], :Bin)
setlowerbound(x[44], 0.0)
setlowerbound(x[61], 0.0)
setlowerbound(x[50], 0.0)
setlowerbound(x[31], 0.0)
setlowerbound(x[33], 0.0)
setlowerbound(x[47], 0.0)
setcategory(b[17], :Bin)
setlowerbound(x[68], 0.0)
setcategory(b[4], :Bin)
setcategory(b[6], :Bin)
setlowerbound(x[35], 0.0)
setlowerbound(x[64], 0.0)
setcategory(b[1], :Bin)
setcategory(b[18], :Bin)
setlowerbound(x[60], 0.0)
setlowerbound(x[23], 0.0)
setlowerbound(x[34], 0.0)
setlowerbound(x[46], 0.0)
setlowerbound(x[51], 0.0)
setlowerbound(x[48], 0.0)
setlowerbound(x[73], 0.0)
setlowerbound(x[39], 0.0)
setcategory(b[10], :Bin)
setlowerbound(x[70], 0.0)
setlowerbound(x[65], 0.0)
setlowerbound(x[22], 40.0)
setupperbound(x[22], 90.0)
setupperbound(x[23], 40.0)
setupperbound(x[24], 50.0)
setupperbound(x[25], 90.0)
setupperbound(x[26], 90.0)
setlowerbound(x[27], 40.0)
setupperbound(x[27], 40.0)
setlowerbound(x[28], 50.0)
setupperbound(x[28], 50.0)
setupperbound(x[29], 40.0)
setupperbound(x[30], 40.0)
setupperbound(x[31], 40.0)
setupperbound(x[32], 40.0)
setupperbound(x[33], 50.0)
setupperbound(x[34], 50.0)
setupperbound(x[35], 40.0)
setupperbound(x[36], 50.0)
setupperbound(x[37], 40.0)
setupperbound(x[38], 50.0)
setupperbound(x[39], 40.0)
setupperbound(x[40], 50.0)
setupperbound(x[41], 90.0)
setupperbound(x[42], 90.0)
setupperbound(x[43], 90.0)
setupperbound(x[44], 90.0)
setupperbound(x[45], 90.0)
setupperbound(x[46], 90.0)
setupperbound(x[47], 90.0)
setupperbound(x[48], 90.0)
setlowerbound(x[49], 40.0)
setupperbound(x[49], 90.0)
setlowerbound(x[50], 0.0)
setupperbound(x[50], 0.0)
setlowerbound(x[51], 0.0)
setupperbound(x[51], 0.0)
setupperbound(x[52], 50.0)
setupperbound(x[53], 50.0)
setlowerbound(x[54], 25.0)
setupperbound(x[54], 25.0)
setlowerbound(x[55], 37.5)
setupperbound(x[55], 37.5)
setlowerbound(x[56], 20.0)
setupperbound(x[56], 70.0)
setlowerbound(x[57], 20.0)
setupperbound(x[57], 70.0)
setupperbound(x[58], 70.0)
setupperbound(x[59], 70.0)
setupperbound(x[60], 70.0)
setupperbound(x[61], 70.0)
setupperbound(x[62], 3.5)
setupperbound(x[63], 70.0)
setupperbound(x[64], 70.0)
setupperbound(x[65], 3.5)
setupperbound(x[66], 25.0)
setupperbound(x[67], 37.5)
setupperbound(x[68], 70.0)
setupperbound(x[69], 70.0)
setupperbound(x[70], 3.5)
setupperbound(x[71], 70.0)
setupperbound(x[72], 70.0)
setupperbound(x[73], 3.5)
setupperbound(x[74], 10.0)
setupperbound(x[75], 10.0)


# ----- Constraints ----- #
@NLconstraint(m, e1, -(0.1*(16800*x[47]^0.7+12600*x[48]^0.7)+8000*x[47]+53.6*x[48]+0.1*(100*x[23]^0.6+100*x[24]^0.6+100*x[25]^0.6+100*x[26]^0.6+100*x[29]^0.6+100*x[30]^0.6+100*x[31]^0.6+100*x[32]^0.6+100*x[33]^0.6+100*x[34]^0.6+100*x[35]^0.6+100*x[36]^0.6+100*x[37]^0.6+100*x[38]^0.6+100*x[39]^0.6+100*x[40]^0.6+100*x[43]^0.6+100*x[44]^0.6+100*x[41]^0.6+100*x[42]^0.6)+48*x[23]+48*x[24]+48*x[25]+48*x[26]+48*x[29]+48*x[30]+48*x[31]+48*x[32]+48*x[33]+48*x[34]+48*x[35]+48*x[36]+48*x[37]+48*x[38]+48*x[39]+48*x[40]+48*x[41]+48*x[42]+48*x[43]+48*x[44])-0.6*b[1]-0.6*b[2]-0.6*b[3]-0.6*b[4]-0.6*b[5]-0.6*b[6]-0.6*b[7]-0.6*b[8]-0.6*b[9]-0.6*b[10]-0.6*b[11]-0.6*b[12]-0.6*b[13]-0.6*b[14]-0.6*b[15]-0.6*b[16]-0.6*b[17]-0.6*b[18]-0.6*b[19]-0.6*b[20]+x[21]-8000*x[22] == 0.0)
@constraint(m, e2, x[22]-x[23]-x[24]-x[25]-x[26] == 0.0)
@constraint(m, e3, -x[23]-x[30]-x[37]-x[39] == -40.0)
@constraint(m, e4, -x[24]-x[29]-x[38]-x[40] == -50.0)
@NLconstraint(m, e5, -(x[30]*x[56]+x[37]*x[62]+x[39]*x[64])+40*x[50] == 0.0)
@NLconstraint(m, e6, -(x[30]*x[57]+x[37]*x[63]+x[39]*x[65])+40*x[51] == 0.0)
@NLconstraint(m, e7, -(x[29]*x[54]+x[38]*x[62]+x[40]*x[64])+50*x[52] == 0.0)
@NLconstraint(m, e8, -(x[29]*x[55]+x[38]*x[63]+x[40]*x[65])+50*x[53] == 0.0)
@constraint(m, e9, -x[27] == -40.0)
@constraint(m, e10, -x[28] == -50.0)
@NLconstraint(m, e11, -x[27]*x[54]+40*x[50] == -1000.0)
@NLconstraint(m, e12, -x[27]*x[55]+40*x[51] == -1500.0)
@NLconstraint(m, e13, -x[28]*x[56]+50*x[52] == -1000.0)
@NLconstraint(m, e14, -x[28]*x[57]+50*x[53] == -1000.0)
@constraint(m, e15, x[27]-x[29]-x[31]-x[32]-x[35] == 0.0)
@constraint(m, e16, x[28]-x[30]-x[33]-x[34]-x[36] == 0.0)
@constraint(m, e17, -x[54]+x[66] == 0.0)
@constraint(m, e18, -x[55]+x[67] == 0.0)
@constraint(m, e19, -x[56]+x[68] == 0.0)
@constraint(m, e20, -x[57]+x[69] == 0.0)
@constraint(m, e21, -x[25]-x[31]-x[33]-x[42]+x[45] == 0.0)
@constraint(m, e22, -x[26]-x[32]-x[34]-x[41]+x[46] == 0.0)
@NLconstraint(m, e23, x[45]*x[58]-(x[42]*x[72]+x[31]*x[66]+x[33]*x[68]) == 0.0)
@NLconstraint(m, e24, x[45]*x[59]-(x[42]*x[73]+x[31]*x[67]+x[33]*x[69]) == 0.0)
@NLconstraint(m, e25, x[46]*x[60]-(x[41]*x[70]+x[32]*x[66]+x[34]*x[68]) == 0.0)
@NLconstraint(m, e26, x[46]*x[61]-(x[41]*x[71]+x[32]*x[67]+x[34]*x[69]) == 0.0)
@constraint(m, e27, x[45]-x[47] == 0.0)
@constraint(m, e28, x[46]-x[48] == 0.0)
@constraint(m, e29, -0.0499999999999999*x[58]+x[62] == 0.0)
@constraint(m, e30, -x[59]+x[63] == 0.0)
@constraint(m, e31, -x[60]+x[64] == 0.0)
@constraint(m, e32, -0.0499999999999999*x[61]+x[65] == 0.0)
@constraint(m, e33, -x[37]-x[38]-x[41]-x[43]+x[47] == 0.0)
@constraint(m, e34, -x[39]-x[40]-x[42]-x[44]+x[48] == 0.0)
@constraint(m, e35, -x[62]+x[70] == 0.0)
@constraint(m, e36, -x[63]+x[71] == 0.0)
@constraint(m, e37, -x[64]+x[72] == 0.0)
@constraint(m, e38, -x[65]+x[73] == 0.0)
@constraint(m, e39, -x[35]-x[36]-x[43]-x[44]+x[49] == 0.0)
@NLconstraint(m, e40, x[49]*x[74]-(x[35]*x[66]+x[36]*x[68]+x[43]*x[70]+x[44]*x[72]) == 0.0)
@NLconstraint(m, e41, x[49]*x[75]-(x[35]*x[67]+x[36]*x[69]+x[43]*x[71]+x[44]*x[73]) == 0.0)
@NLconstraint(m, e42, -(0.95*x[45]*x[58]+x[49]*x[74]) == -2000.0)
@NLconstraint(m, e43, -(0.95*x[46]*x[61]+x[49]*x[75]) == -2500.0)
@constraint(m, e44, -40*b[17]+x[37] <= 0.0)
@constraint(m, e45, -50*b[18]+x[38] <= 0.0)
@constraint(m, e46, -40*b[19]+x[39] <= 0.0)
@constraint(m, e47, -50*b[20]+x[40] <= 0.0)
@constraint(m, e48, -x[37] <= 0.0)
@constraint(m, e49, -x[38] <= 0.0)
@constraint(m, e50, -x[39] <= 0.0)
@constraint(m, e51, -x[40] <= 0.0)
@constraint(m, e52, -40*b[5]+x[29] <= 0.0)
@constraint(m, e53, -40*b[6]+x[30] <= 0.0)
@constraint(m, e54, -x[29] <= 0.0)
@constraint(m, e55, -x[30] <= 0.0)
@constraint(m, e56, -40*b[7]+x[31] <= 0.0)
@constraint(m, e57, -40*b[8]+x[32] <= 0.0)
@constraint(m, e58, -50*b[9]+x[33] <= 0.0)
@constraint(m, e59, -50*b[10]+x[34] <= 0.0)
@constraint(m, e60, -x[31] <= 0.0)
@constraint(m, e61, -x[32] <= 0.0)
@constraint(m, e62, -x[33] <= 0.0)
@constraint(m, e63, -x[34] <= 0.0)
@constraint(m, e64, -40*b[11]+x[35] <= 0.0)
@constraint(m, e65, -50*b[12]+x[36] <= 0.0)
@constraint(m, e66, -x[35] <= 0.0)
@constraint(m, e67, -x[36] <= 0.0)
@constraint(m, e68, -90*b[13]+x[43] <= 0.0)
@constraint(m, e69, -90*b[14]+x[44] <= 0.0)
@constraint(m, e70, -x[43] <= 0.0)
@constraint(m, e71, -x[44] <= 0.0)
@constraint(m, e72, -90*b[15]+x[41] <= 0.0)
@constraint(m, e73, -90*b[16]+x[42] <= 0.0)
@constraint(m, e74, -x[41] <= 0.0)
@constraint(m, e75, -x[42] <= 0.0)
@constraint(m, e76, -40*b[1]+x[23] <= 0.0)
@constraint(m, e77, -50*b[2]+x[24] <= 0.0)
@constraint(m, e78, -x[23] <= 0.0)
@constraint(m, e79, -x[24] <= 0.0)
@constraint(m, e80, -90*b[3]+x[25] <= 0.0)
@constraint(m, e81, -90*b[4]+x[26] <= 0.0)
@constraint(m, e82, -x[25] <= 0.0)
@constraint(m, e83, -x[26] <= 0.0)
@constraint(m, e84, b[1]+b[2]+b[3]+b[4]+b[5]+b[6]+b[7]+b[8]+b[9]+b[10]+b[11]+b[12]+b[13]+b[14]+b[15]+b[16]+b[17]+b[18]+b[19]+b[20] <= 20.0)


# ----- Objective ----- #
@objective(m, Min, x[21])

m = m 		 # model get returned when including this script. 
